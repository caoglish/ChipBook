{"version":3,"file":"js/446.3bbc32eb.js","mappings":"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","sources":["webpack://chipbook/../../../src/components/VCheckbox/VCheckbox.tsx","webpack://chipbook/./src/views/PlayerView.vue","webpack://chipbook/./src/store/playerStore.ts","webpack://chipbook/./src/views/PlayerView.vue?d8bd","webpack://chipbook/../../../src/components/VDialog/VDialog.tsx"],"sourcesContent":["// Styles\nimport './VCheckbox.sass'\n\n// Components\nimport { makeVCheckboxBtnProps, VCheckboxBtn } from './VCheckboxBtn'\nimport { makeVInputProps, VInput } from '@/components/VInput/VInput'\n\n// Composables\nimport { useFocus } from '@/composables/focus'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed } from 'vue'\nimport { filterInputAttrs, genericComponent, getUid, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { VSelectionControlSlots } from '../VSelectionControl/VSelectionControl'\nimport type { VInputSlots } from '@/components/VInput/VInput'\nimport type { GenericProps } from '@/util'\n\nexport type VCheckboxSlots = Omit<VInputSlots, 'default'> & VSelectionControlSlots\n\nexport const makeVCheckboxProps = propsFactory({\n  ...makeVInputProps(),\n  ...omit(makeVCheckboxBtnProps(), ['inline']),\n}, 'VCheckbox')\n\nexport const VCheckbox = genericComponent<new <T>(\n  props: {\n    modelValue?: T | null\n    'onUpdate:modelValue'?: (value: T | null) => void\n  },\n  slots: VCheckboxSlots,\n) => GenericProps<typeof props, typeof slots>>()({\n  name: 'VCheckbox',\n\n  inheritAttrs: false,\n\n  props: makeVCheckboxProps(),\n\n  emits: {\n    'update:modelValue': (value: any) => true,\n    'update:focused': (focused: boolean) => true,\n  },\n\n  setup (props, { attrs, slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const { isFocused, focus, blur } = useFocus(props)\n\n    const uid = getUid()\n    const id = computed(() => props.id || `checkbox-${uid}`)\n\n    useRender(() => {\n      const [rootAttrs, controlAttrs] = filterInputAttrs(attrs)\n      const inputProps = VInput.filterProps(props)\n      const checkboxProps = VCheckboxBtn.filterProps(props)\n\n      return (\n        <VInput\n          class={[\n            'v-checkbox',\n            props.class,\n          ]}\n          { ...rootAttrs }\n          { ...inputProps }\n          v-model={ model.value }\n          id={ id.value }\n          focused={ isFocused.value }\n          style={ props.style }\n        >\n          {{\n            ...slots,\n            default: ({\n              id,\n              messagesId,\n              isDisabled,\n              isReadonly,\n              isValid,\n            }) => (\n              <VCheckboxBtn\n                { ...checkboxProps }\n                id={ id.value }\n                aria-describedby={ messagesId.value }\n                disabled={ isDisabled.value }\n                readonly={ isReadonly.value }\n                { ...controlAttrs }\n                error={ isValid.value === false }\n                v-model={ model.value }\n                onFocus={ focus }\n                onBlur={ blur }\n                v-slots={ slots }\n              />\n            ),\n          }}\n        </VInput>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VCheckbox = InstanceType<typeof VCheckbox>\n","<template>\r\n  <div>\r\n    <!-- 添加玩家按钮 -->\r\n    <v-btn color=\"primary\" @click=\"openDialog\">添加玩家</v-btn>\r\n\r\n    <!-- 显示玩家列表的表格 -->\r\n    <v-data-table :headers=\"headers\" :items=\"players\" :items-per-page=\"50\">\r\n      <!-- 动态生成表格中的操作列 -->\r\n      <template #item.actions=\"{ item }\">\r\n        <v-btn color=\"primary\" icon @click=\"editPlayer(item)\">\r\n          <v-icon>mdi-pencil</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"error\" icon @click=\"confirmDeletePlayer(item.id)\">\r\n          <v-icon>mdi-delete</v-icon>\r\n        </v-btn>\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <!-- 添加或编辑玩家的对话框 -->\r\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <span class=\"headline\">{{ editingPlayer ? '编辑玩家' : '添加玩家' }}</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-text-field\r\n            v-model=\"player.player_name\"\r\n            label=\"玩家固定名称\"\r\n            :readonly=\"editingPlayer\"\r\n            :color=\"editingPlayer ? 'grey' : 'primary'\"\r\n            :dense=\"editingPlayer\"\r\n            class=\"readonly-text-field\"\r\n            required\r\n          ></v-text-field>\r\n          <v-checkbox\r\n            v-if=\"!editingPlayer\"\r\n            v-model=\"sameName\"\r\n            label=\"玩家显示名称与玩家固定名称相同\"\r\n            @change=\"syncDisplayName\"\r\n          ></v-checkbox>\r\n          <v-text-field\r\n            v-if=\"!sameName || editingPlayer\"\r\n            v-model=\"player.player_display_name\"\r\n            label=\"玩家显示名称\"\r\n            required\r\n          ></v-text-field>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-btn color=\"blue darken-1\" @click=\"savePlayer\">保存</v-btn>\r\n          <v-btn color=\"grey darken-1\" @click=\"closeDialog\">取消</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- 删除确认对话框 -->\r\n    <v-dialog v-model=\"deleteDialog\" max-width=\"400px\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">确认删除</v-card-title>\r\n        <v-card-text>您确定要删除这个玩家吗？此操作无法撤销。</v-card-text>\r\n        <v-card-actions>\r\n          <v-btn color=\"red darken-1\" @click=\"deletePlayer(confirmedDeleteId)\">确认</v-btn>\r\n          <v-btn color=\"grey darken-1\" @click=\"closeDeleteDialog\">取消</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, reactive } from \"vue\";\r\nimport { usePlayerStore } from \"@/store/playerStore\";\r\n\r\nexport default defineComponent({\r\n  name: \"PlayerPage\",\r\n  setup() {\r\n    const playerStore = usePlayerStore(); // 使用 Pinia store\r\n    return {\r\n      playerStore,\r\n    };\r\n  },\r\n  computed: {\r\n    players() {\r\n      return this.playerStore.players;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      headers: [\r\n        { title: \"ID\", key: \"id\" },\r\n        { title: \"玩家固定名称\", key: \"player_name\" },\r\n        { title: \"玩家显示名称\", key: \"player_display_name\" },\r\n        { title: \"操作\", value: \"actions\", sortable: false },\r\n      ],\r\n      dialog: false,\r\n      deleteDialog: false,\r\n      editingPlayer: false,\r\n      player: { player_name: \"\", player_display_name: \"\" },\r\n      sameName: true,\r\n      confirmedDeleteId: null,\r\n    };\r\n  },\r\n  methods: {\r\n    openDialog() {\r\n      this.dialog = true;\r\n      this.editingPlayer = false;\r\n      this.player = { player_name: \"\", player_display_name: \"\" };\r\n      this.sameName = true;\r\n    },\r\n    closeDialog() {\r\n      this.dialog = false;\r\n    },\r\n    confirmDeletePlayer(playerId) {\r\n      this.deleteDialog = true;\r\n      this.confirmedDeleteId = playerId;\r\n    },\r\n    closeDeleteDialog() {\r\n      this.deleteDialog = false;\r\n      this.confirmedDeleteId = null;\r\n    },\r\n    syncDisplayName() {\r\n      if (this.sameName) {\r\n        this.player.player_display_name = this.player.player_name;\r\n      }\r\n    },\r\n    editPlayer(item) {\r\n      this.dialog = true;\r\n      this.editingPlayer = true;\r\n      this.player = { ...item };\r\n    },\r\n    async deletePlayer(playerId) {\r\n      await this.playerStore.deletePlayer(playerId);\r\n      this.closeDeleteDialog();\r\n    },\r\n    async savePlayer() {\r\n      if (this.editingPlayer) {\r\n        await this.playerStore.updatePlayer(this.player.id, {\r\n          player_display_name: this.player.player_display_name,\r\n        });\r\n      } else {\r\n        if (this.sameName) {\r\n          this.player.player_display_name = this.player.player_name;\r\n        }\r\n        await this.playerStore.addPlayer(this.player);\r\n      }\r\n      this.closeDialog();\r\n    },\r\n  },\r\n  created() {\r\n    this.playerStore.fetchPlayers(); // 在组件创建时，从 Firebase 获取玩家数据\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.v-btn {\r\n  margin: 10px;\r\n}\r\n.readonly-text-field .v-input__control {\r\n  color: grey !important;\r\n}\r\n</style>","import { defineStore } from 'pinia';\r\nimport { collection, getDocs, addDoc, updateDoc, deleteDoc, doc } from 'firebase/firestore';\r\nimport firebaseDb from '@/Lib/FirebaseDb';\r\nimport { Player } from '@/Type/Player'; // 确保你有一个类型定义文件来定义 Player 接口\r\n\r\n\r\nconst db = firebaseDb;\r\n\r\nexport const usePlayerStore = defineStore('playerStore', {\r\n\t// State: 管理玩家数据的状态\r\n\tstate: () => ({\r\n\t\tplayers: [] as Player[], // 存储玩家列表\r\n\t}),\r\n\r\n\t// Getters: 获取处理后的数据\r\n\tgetters: {\r\n\t\tgetPlayerById: (state) => {\r\n\t\t\treturn (id: string) => state.players.find(player => player.id === id);\r\n\t\t},\r\n\t},\r\n\r\n\t// Actions: 用于修改状态的方法\r\n\tactions: {\r\n\t\tasync fetchPlayers() {\r\n\t\t\ttry {\r\n\t\t\t\tconst playersCol = collection(db, 'players');\r\n\t\t\t\tconst playerSnapshot = await getDocs(playersCol);\r\n\t\t\t\tthis.players = playerSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Player));\r\n\t\t\t\t\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error fetching players:', error);\r\n\t\t\t\talert('无法加载玩家列表，请重试。');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync addPlayer(newPlayer: Player) {\r\n\t\t\ttry {\r\n\t\t\t\tconst playersCol = collection(db, 'players');\r\n\t\t\t\tawait addDoc(playersCol, newPlayer);\r\n\t\t\t\tthis.fetchPlayers(); // 重新获取玩家列表以更新视图\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error adding player:', error);\r\n\t\t\t\talert('无法添加玩家，请重试。');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updatePlayer(playerId: string, updatedData: Partial<Player>) {\r\n\t\t\ttry {\r\n\t\t\t\tconst playerRef = doc(db, 'players', playerId);\r\n\t\t\t\tawait updateDoc(playerRef, updatedData);\r\n\t\t\t\tthis.fetchPlayers(); // 重新获取玩家列表以更新视图\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error updating player:', error);\r\n\t\t\t\talert('无法更新玩家，请重试。');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync deletePlayer(playerId: string) {\r\n\t\t\ttry {\r\n\t\t\t\tconst playerRef = doc(db, 'players', playerId);\r\n\t\t\t\tawait deleteDoc(playerRef);\r\n\t\t\t\tthis.fetchPlayers(); // 重新获取玩家列表以更新视图\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error deleting player:', error);\r\n\t\t\t\talert('无法删除玩家，请重试。');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});","import { render } from \"./PlayerView.vue?vue&type=template&id=6026f1b0\"\nimport script from \"./PlayerView.vue?vue&type=script&lang=js\"\nexport * from \"./PlayerView.vue?vue&type=script&lang=js\"\n\nimport \"./PlayerView.vue?vue&type=style&index=0&id=6026f1b0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Styles\nimport './VDialog.sass'\n\n// Components\nimport { VDialogTransition } from '@/components/transitions'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\nimport { makeVOverlayProps } from '@/components/VOverlay/VOverlay'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\n\n// Utilities\nimport { mergeProps, nextTick, ref, watch } from 'vue'\nimport { focusableChildren, genericComponent, IN_BROWSER, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { Component } from 'vue'\nimport type { OverlaySlots } from '@/components/VOverlay/VOverlay'\n\nexport const makeVDialogProps = propsFactory({\n  fullscreen: Boolean,\n  retainFocus: {\n    type: Boolean,\n    default: true,\n  },\n  scrollable: Boolean,\n\n  ...makeVOverlayProps({\n    origin: 'center center' as const,\n    scrollStrategy: 'block' as const,\n    transition: { component: VDialogTransition as Component },\n    zIndex: 2400,\n  }),\n}, 'VDialog')\n\nexport const VDialog = genericComponent<OverlaySlots>()({\n  name: 'VDialog',\n\n  props: makeVDialogProps(),\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n    afterEnter: () => true,\n    afterLeave: () => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { scopeId } = useScopeId()\n\n    const overlay = ref<VOverlay>()\n    function onFocusin (e: FocusEvent) {\n      const before = e.relatedTarget as HTMLElement | null\n      const after = e.target as HTMLElement | null\n\n      if (\n        before !== after &&\n        overlay.value?.contentEl &&\n        // We're the topmost dialog\n        overlay.value?.globalTop &&\n        // It isn't the document or the dialog body\n        ![document, overlay.value.contentEl].includes(after!) &&\n        // It isn't inside the dialog body\n        !overlay.value.contentEl.contains(after)\n      ) {\n        const focusable = focusableChildren(overlay.value.contentEl)\n\n        if (!focusable.length) return\n\n        const firstElement = focusable[0]\n        const lastElement = focusable[focusable.length - 1]\n\n        if (before === firstElement) {\n          lastElement.focus()\n        } else {\n          firstElement.focus()\n        }\n      }\n    }\n\n    if (IN_BROWSER) {\n      watch(() => isActive.value && props.retainFocus, val => {\n        val\n          ? document.addEventListener('focusin', onFocusin)\n          : document.removeEventListener('focusin', onFocusin)\n      }, { immediate: true })\n    }\n\n    function onAfterEnter () {\n      emit('afterEnter')\n      if (overlay.value?.contentEl && !overlay.value.contentEl.contains(document.activeElement)) {\n        overlay.value.contentEl.focus({ preventScroll: true })\n      }\n    }\n\n    function onAfterLeave () {\n      emit('afterLeave')\n    }\n\n    watch(isActive, async val => {\n      if (!val) {\n        await nextTick()\n        overlay.value!.activatorEl?.focus({ preventScroll: true })\n      }\n    })\n\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props)\n      const activatorProps = mergeProps({\n        'aria-haspopup': 'dialog',\n        'aria-expanded': String(isActive.value),\n      }, props.activatorProps)\n      const contentProps = mergeProps({\n        tabindex: -1,\n      }, props.contentProps)\n\n      return (\n        <VOverlay\n          ref={ overlay }\n          class={[\n            'v-dialog',\n            {\n              'v-dialog--fullscreen': props.fullscreen,\n              'v-dialog--scrollable': props.scrollable,\n            },\n            props.class,\n          ]}\n          style={ props.style }\n          { ...overlayProps }\n          v-model={ isActive.value }\n          aria-modal=\"true\"\n          activatorProps={ activatorProps }\n          contentProps={ contentProps }\n          role=\"dialog\"\n          onAfterEnter={ onAfterEnter }\n          onAfterLeave={ onAfterLeave }\n          { ...scopeId }\n        >\n          {{\n            activator: slots.activator,\n            default: (...args) => (\n              <VDefaultsProvider root=\"VDialog\">\n                { slots.default?.(...args) }\n              </VDefaultsProvider>\n            ),\n          }}\n        </VOverlay>\n      )\n    })\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VDialog = InstanceType<typeof VDialog>\n"],"names":["makeVCheckboxProps","propsFactory","makeVInputProps","omit","makeVCheckboxBtnProps","VCheckbox","genericComponent","name","inheritAttrs","props","emits","value","focused","setup","_ref","attrs","slots","model","useProxiedModel","isFocused","focus","blur","useFocus","uid","getUid","id","computed","useRender","rootAttrs","controlAttrs","filterInputAttrs","inputProps","VInput","filterProps","checkboxProps","VCheckboxBtn","_createVNode","_mergeProps","class","$event","style","default","_ref2","messagesId","isDisabled","isReadonly","isValid","_createElementBlock","_component_v_btn","color","onClick","_ctx","openDialog","_withCtx","_createTextVNode","_","_component_v_data_table","headers","items","players","item","icon","editPlayer","_component_v_icon","confirmDeletePlayer","_component_v_dialog","modelValue","dialog","_cache","_component_v_card","_component_v_card_title","_createElementVNode","_hoisted_1","_toDisplayString","editingPlayer","_component_v_card_text","_component_v_text_field","player","player_name","label","readonly","dense","required","_createCommentVNode","_createBlock","_component_v_checkbox","key","sameName","onChange","syncDisplayName","player_display_name","_component_v_card_actions","savePlayer","closeDialog","deleteDialog","deletePlayer","confirmedDeleteId","closeDeleteDialog","db","firebaseDb","usePlayerStore","defineStore","state","getters","getPlayerById","find","actions","fetchPlayers","playersCol","collection","playerSnapshot","getDocs","this","docs","map","doc","data","error","console","alert","addPlayer","newPlayer","addDoc","updatePlayer","playerId","updatedData","playerRef","updateDoc","deleteDoc","defineComponent","playerStore","title","sortable","methods","created","__exports__","render","makeVDialogProps","fullscreen","Boolean","retainFocus","type","scrollable","makeVOverlayProps","origin","scrollStrategy","transition","component","VDialogTransition","zIndex","VDialog","afterEnter","afterLeave","emit","isActive","scopeId","useScopeId","overlay","ref","onFocusin","e","before","relatedTarget","after","target","contentEl","globalTop","document","includes","contains","focusable","focusableChildren","length","firstElement","lastElement","onAfterEnter","activeElement","preventScroll","onAfterLeave","IN_BROWSER","watch","val","addEventListener","removeEventListener","immediate","async","nextTick","activatorEl","overlayProps","VOverlay","activatorProps","mergeProps","String","contentProps","tabindex","activator","_len","arguments","args","Array","_key","VDefaultsProvider","forwardRefs"],"sourceRoot":""}